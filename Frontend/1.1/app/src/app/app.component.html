<div class="container">
  <h1>Car app</h1>
  <div>
    <label for="make">Make of car:</label>
    <input type="text" id="make" [(ngModel)]="newCar.make">
  </div>

  <div>
    <label for="model">Car model:</label>
    <input type="text" id="model" [(ngModel)]="newCar.model">
  </div>

  <div>
    <label for="year">Production year: </label>
    <input type="nuber" id="year" [(ngModel)]="newCar.year">
  </div>

  <button (click)="saveCar()">Add car</button>
</div>
<hr>
<div class="container-cars">
  <h2>Lista samochod√≥w</h2>
  <table>
    <thead>
      <tr>
        <th>Index</th>
        <th>Marka</th>
        <th>Model</th>
        <th>Rok produkcji</th>
        <th>Serwis</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let car of cars; let i = index">
        <td>{{ i }}</td>
        <td>{{ car.make }}</td>
        <td>{{ car.model }}</td>
        <td>{{ car.year }}</td>
        <td>
          <button (click)="showDetails(i)">Add details</button>
          <div *ngIf="showDetailsIndex === i">
            <h3>Details for {{ cars[i].make }} {{ cars[i].model }}</h3>
            <div>
              <label for="part">Part:</label>
              <input type="text" id="part" [(ngModel)]="newPart.part">
            </div>

            <div>
              <label for="cost">Cost: </label>
              <input type="number" id="cost" [(ngModel)]="newPart.cost">
            </div>

            <button (click)="addPart(i)">Add Part</button>
          </div>
          <table *ngIf="cars[i].parts && cars[i].parts.length > 0" >
            <thead>
              <tr>
                <th>Part</th>
                <th>Cost</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let part of cars[i].parts; let j = index">
                <td>{{ part.part }}</td>
                <td>{{ part.cost }}</td>
                <button (click)="deletePart(i,j)">Delete part</button>
              </tr>
            </tbody>
          </table>

        </td>
        <td><button (click)="deleteCar(i)">Delete</button></td>
      </tr>
    </tbody>
  </table>
</div>
